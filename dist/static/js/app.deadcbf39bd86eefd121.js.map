{"version":3,"sources":["webpack:///./src/App.vue?5975","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?37cb","webpack:///./src/components/HelloWorld.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","HelloWorld","data","canvas","width","document","body","clientWidth","height","mounted","fabric","Canvas","observe","e","obj","target","currentHeight","currentWidth","halfw","halfh","bounds","tl","x","y","br","top","left","Math","max","min","on","setCoords","getBoundingRect","methods","getObjectURL","file","url","undefined","window","createObjectURL","URL","webkitURL","changeImg","_this","objUrl","files","Image","fromURL","oImg","scale","add","saveAsJPG","src","toDataURL","saveAs","Url","blob","Blob","type","a","createElement","href","download","replace","split","createEvent","initMouseEvent","dispatchEvent","revokeObjectURL","components_HelloWorld","_vm","_v","multiple","change","$event","click","src_components_HelloWorld","HelloWorld_normalizeComponent","Vue","use","Router","router","routes","path","component","ElementUI","config","productionTip","el","h","App"],"mappings":"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","file":"static/js/app.deadcbf39bd86eefd121.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e232033\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e232033\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e232033\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div>\n    <canvas id=\"main\" :width=\"width\" :height=\"height\"></canvas>\n\n<input type=\"file\" name=\"file0\" id=\"file0\" multiple=\"multiple\" @change=\"changeImg($event)\"/>\n<button @click=\"saveAsJPG\">存为图片</button>\n  </div>\n</template>\n\n<script>\n  import { fabric } from 'fabric'\n\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return{\n      canvas:'',\n      width:document.body.clientWidth+'px',\n      height:'400px'\n    }\n  },\n  mounted() {\n      this.canvas =new fabric.Canvas('main');\n//         var rect = new fabric.Rect({\n//\n//            left:100,//距离画布左侧的距离，单位是像素\n//\n//            top:100,//距离画布上边的距离\n//\n//            fill:'red',//填充的颜色\n//\n//            width:30,//方形的宽度\n//\n//           height:30//方形的高度\n//\n//        });\n//        this.canvas.add(rect);\n\nthis.canvas.observe(\"object:moving\", function(e){\n      var obj = e.target;\n         // if object is too big ignore\n        if(obj.currentHeight > obj.canvas.height || obj.currentWidth > obj.canvas.width){\n            return;\n        }\n\n        var halfw = obj.currentWidth/2;\n        var halfh = obj.currentHeight/2;\n        var bounds = {tl: {x: halfw, y:halfh},\n            br: {x: obj.canvas.width-halfw, y: obj.canvas.height-halfh}\n        };\n\n        // top-left  corner\n        if(obj.top < bounds.tl.y || obj.left < bounds.tl.x){\n            obj.top = Math.max(obj.top, bounds.tl.y);\n            obj.left = Math.max(obj.left, bounds.tl.x )\n        }\n\n\n        // bot-right corner\n        if(obj.top > bounds.br.y || obj.left > bounds.br.x){\n            obj.top = Math.min(obj.top, bounds.br.y);\n            obj.left = Math.min(obj.left, bounds.br.x)\n        }\n});\n\n\nthis.canvas.on('object:moving', function (e) {\n        var obj = e.target;\n         // if object is too big ignore\n        if(obj.currentHeight > obj.canvas.height || obj.currentWidth > obj.canvas.width){\n            return;\n        }\n        obj.setCoords();\n        // top-left  corner\n        if(obj.getBoundingRect().top < 0 || obj.getBoundingRect().left < 0){\n            obj.top = Math.max(obj.top, obj.top-obj.getBoundingRect().top);\n            obj.left = Math.max(obj.left, obj.left-obj.getBoundingRect().left);\n        }\n        // bot-right corner\n        if(obj.getBoundingRect().top+obj.getBoundingRect().height  > obj.canvas.height || obj.getBoundingRect().left+obj.getBoundingRect().width  > obj.canvas.width){\n            obj.top = Math.min(obj.top, obj.canvas.height-obj.getBoundingRect().height+obj.top-obj.getBoundingRect().top);\n            obj.left = Math.min(obj.left, obj.canvas.width-obj.getBoundingRect().width+obj.left-obj.getBoundingRect().left);\n        }\n});\n  },\n  methods:{\n    getObjectURL (file) {\n\t\t var url = null;\n\t\t if (window.createObjectURL!=undefined) {\n\t\t  url = window.createObjectURL(file) ;\n\t\t } else if (window.URL!=undefined) { // mozilla(firefox)\n\t\t  url = window.URL.createObjectURL(file) ;\n\t\t } else if (window.webkitURL!=undefined) { // webkit or chrome\n\t\t  url = window.webkitURL.createObjectURL(file) ;\n\t\t }\n\t\t return url ;\n\t\t},\n    changeImg(e){\n      var _this=this;\n       let objUrl = this.getObjectURL(e.target.files[0]) ;//获取文件信息\n       fabric.Image.fromURL(objUrl, function(oImg) {\n           oImg.scale(0.1);//图片缩小10倍\n           _this.canvas.add(oImg);\n       });\n    },\n    saveAsJPG(canvas) {\n      var src= this.canvas.toDataURL(\"image/jpeg\");\n        this.saveAs(src)\n    },\n    saveAs(Url){\n        var blob=new Blob([''], {type:'application/octet-stream'});\n        var url = URL.createObjectURL(blob);\n        var a = document.createElement('a');\n        a.href = Url;\n        a.download = Url.replace(/(.*\\/)*([^.]+.*)/ig,\"$2\").split(\"?\")[0];\n        var e = document.createEvent('MouseEvents');\n        e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        a.dispatchEvent(e);\n        URL.revokeObjectURL(url);\n    }\n\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n#main{border:1px solid #000}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('canvas',{attrs:{\"id\":\"main\",\"width\":_vm.width,\"height\":_vm.height}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"file\",\"name\":\"file0\",\"id\":\"file0\",\"multiple\":\"multiple\"},on:{\"change\":function($event){return _vm.changeImg($event)}}}),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.saveAsJPG}},[_vm._v(\"存为图片\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d1b93ec8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d1b93ec8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d1b93ec8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\n\nVue.use(ElementUI);\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}